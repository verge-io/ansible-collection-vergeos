# Example VergeOS Dynamic Inventory Configuration
# Copy this file to your inventory directory and customize as needed
# Usage: ansible-inventory -i inventory/vergeos.yml --graph

plugin: vergeio.vergeos.vergeos

# VergeOS connection settings (required)
host: 192.168.1.100
username: admin
password: your_password
insecure: true  # Set to false if using valid SSL certificates

# Optional: Filter VMs by tenant or cluster
# filters:
#   tenant: "Production"
#   cluster: "Cluster-01"

# Optional: Include additional data (network and NIC information)
# This adds extra API calls but provides richer host variables
# fetch_networks: true
# fetch_nics: true

# Optional: Use hostname from VM name instead of default pattern
# Default pattern: vm_{vm_id} (e.g., vm_42)
# use_vm_name_as_hostname: true

# Optional: Create custom groups using keyed_groups
# keyed_groups:
#   # Group by number of CPU cores
#   - key: vergeos_cpu_cores
#     prefix: cpu
#     separator: "_"
#   # Group by RAM size (GB)
#   - key: vergeos_ram_gb
#     prefix: ram
#     separator: "_"

# Optional: Create conditional groups
# groups:
#   production: "'prod' in (vergeos_vm_name | lower)"
#   development: "'dev' in (vergeos_vm_name | lower)"
#   high_memory: vergeos_ram_gb >= 16

# Optional: Compose additional host variables
# compose:
#   ansible_host: vergeos_primary_ip | default(omit)
#   custom_var: vergeos_vm_name + "_custom"

# Optional: Enable caching to reduce API calls
# cache: true
# cache_plugin: jsonfile
# cache_connection: /tmp/vergeos_inventory_cache
# cache_timeout: 3600  # 1 hour
